<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Google Verification -->
  <meta name="google-site-verification" content="cPJ3_emx8r6W7a_9249IO_Aj4NEH15CCtPqEgc18FN8" />
  <title>HEALING ROOT AGRO VENTURES â€” Products</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <div class="logo"><img src="images/logo.PNG" alt="logo"><div class="brand-title">HEALING ROOT AGRO VENTURES</div></div>
      <nav class="nav" aria-label="Main navigation">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="products.html" class="active">Products</a>
        <a href="gallery.html">Gallery</a>
        <a href="services.html">Services</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding:24px 0 80px">
    <h1 style="text-align:center;color:var(--green-900);margin-bottom:18px">HEALING ROOT AGRO VENTURES â€” PRODUCTS</h1>
    <div class="call-section" style="text-align:center;margin-bottom:16px">
      <strong>Call:</strong> <a href="tel:08153729342">08153729342</a> Â· <strong>WhatsApp:</strong> <a href="https://wa.me/2349138938301" target="_blank">+2349138938301</a>
    </div>

    <div class="products-grid">
      <!-- Cassava -->
      <div id="cassava" class="card" data-name="Cassava Stems" data-price="1000">
        <img src="images/cassava.JPG" alt="Cassava stems">
        <h3>Cassava Stems (TME419, TMS30572)</h3>
        <p>High-yield cassava stems for commercial and smallholder farms. 35 stems per bundle.</p>
        <div class="price">â‚¦1,000 / bundle</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Cassava Stems',1000)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Plantain -->
      <div id="plantain" class="card" data-name="Hybrid Plantain Suckers" data-price="400">
        <img src="images/plantain.JPG" alt="Plantain">
        <h3>Hybrid Plantain Suckers</h3>
        <p>Giant hybrid plantain suckers for high yield plantations.</p>
        <div class="price">â‚¦500 / sucker</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Hybrid Plantain Suckers',400)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Banana -->
      <div id="banana" class="card" data-name="Hybrid Giant Banana Suckers" data-price="300">
        <img src="images/giant_banana.JPG" alt="Banana">
        <h3>Hybrid Giant Banana Suckers</h3>
        <p>Early fruiting, pest-resistant. Great for continuous harvest.</p>
        <div class="price">â‚¦500 / sucker</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Hybrid Giant Banana Suckers',300)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Oil palm -->
      <div id="oilpalm" class="card" data-name="Tenera Oil Palm Seedlings" data-price="1000">
        <img src="images/oilpalm.JPG" alt="Oil Palm">
        <h3>Tenera Oil Palm Seedlings</h3>
        <p>Improved Tenera seedlings with high oil-to-bunch ratio.</p>
        <div class="price">â‚¦1,000 / seedling</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Tenera Oil Palm Seedlings',1000)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Coconut -->
      <div id="coconut" class="card" data-name="Hybrid Coconut Seedlings" data-price="4500">
        <img src="images/coconut.JPG" alt="Coconut">
        <h3>Hybrid Coconut Seedlings</h3>
        <p>Malaysian Dwarf, West African Tall and improved hybrids.</p>
        <div class="price">â‚¦4,500 / seedling</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Hybrid Coconut Seedlings',4500)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Pineapple -->
      <div id="pineapple" class="card" data-name="Pineapple Suckers" data-price="500">
        <img src="images/pineapple.JPG" alt="Pineapple">
        <h3>Pineapple Suckers</h3>
        <p>MD2, Smooth Cayenne, and Queen varieties for quality fruits.</p>
        <div class="price">â‚¦500 / sucker</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Pineapple Suckers',500)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Fertilizer -->
      <div id="fertilizer" class="card" data-name="NPK & Other Fertilizers" data-price="65000">
        <img src="images/fertilizer.JPG" alt="Fertilizer">
        <h3>NPK & Other Fertilizers</h3>
        <p>High-grade fertilizers recommended for higher yields.</p>
        <div class="price">â‚¦65,000 / sack</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'NPK & Other Fertilizers',65000)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Cocoa -->
      <div id="cocoa" class="card" data-name="Hybrid Cocoa Seedlings" data-price="500">
        <img src="images/giant_cocoa.JPG" alt="Cocoa">
        <h3>Hybrid Cocoa Seedlings</h3>
        <p>CRIN-approved hybrid cocoa seedlings for reliable yields.</p>
        <div class="price">â‚¦500 / seedling</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Hybrid Cocoa Seedlings',500)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

      <!-- Vegetables -->
      <div id="vegetables" class="card" data-name="Vegetable Seeds" data-price="15000">
        <img src="images/vegetables.JPG" alt="Vegetables">
        <h3>Vegetable Seeds (Ugu, African Spinach & Others)</h3>
        <p>High germination seeds suitable for backyard and commercial cultivation.</p>
        <div class="price">â‚¦15,000 / pack</div>
        <div style="display:flex;gap:8px" class="actions">
          <input type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid #eee">
          <button class="btn" onclick="addToCart(this)">Add to Cart</button>
          <button class="btn" onclick="payInline(event,'Vegetable Seeds',15000)">Pay Now</button>
          <a class="btn secondary" href="https://paystack.shop/pay/xxj74qo7e2" target="_blank">Pay via Link</a>
        </div>
      </div>

    </div>
  </main>

  <!-- Cart button & modal -->
  <button class="cart-btn btn" onclick="toggleCart()">ðŸ›’ Cart</button>
  <div id="cart-modal">
    <button id="close-cart" class="btn" style="width:100%;margin-bottom:8px" onclick="toggleCart()">Close</button>
    <h3 style="text-align:center">Your Cart</h3>
    <ul id="cart-items" style="list-style:none;padding:0;margin:0"></ul>
    <div class="total-row"><div>Total:</div><div>â‚¦<span id="cart-total">0</span></div></div>
    <a id="checkout-whatsapp" class="btn" style="display:block;text-align:center;margin-top:12px" target="_blank">Order via WhatsApp</a>
  </div>

  <footer class="footer" style="margin-top:36px">
    <div class="container foot-inner">
      <div><strong>Healing Root Agro Ventures</strong><br>Moniya, Oyo State, Nigeria<br>Call: <a href="tel:08153729342">08153729342</a></div>
      <div><a href="index.html">Home</a> Â· <a href="contact.html">Contact</a> Â· <a href="https://healingheart702-oss.github.io/healing-root-site/">Website</a></div>
    </div>
  </footer>

  <a class="whatsapp-float" href="https://wa.me/2349138938301" target="_blank" aria-label="WhatsApp">ðŸ’¬</a>

  <!-- Paystack JS -->
  <script src="https://js.paystack.co/v1/inline.js"></script>
  <script>
  // Cart logic
  let cart = [];
  function addToCart(button){
    const card = button.closest('.card');
    const name = card.dataset.name;
    const price = parseInt(card.dataset.price,10);
    const qtyInput = card.querySelector('input[type="number"]');
    let qty = parseInt(qtyInput.value || "1",10);
    if(isNaN(qty) || qty < 1) qty = 1;

    const existing = cart.find(i => i.name === name);
    if(existing){ existing.qty += qty; }
    else{ cart.push({name, price, qty}); }
    updateCartUI();
  }

  function updateCartUI(){
    const ul = document.getElementById('cart-items');
    ul.innerHTML = '';
    let total = 0;
    cart.forEach((it, idx) => {
      total += it.price * it.qty;
      const li = document.createElement('li');
      li.className='cart-item';
      li.innerHTML = `<img src="images/placeholder.png" onerror="this.src='images/logo.PNG'"><div class="meta"><strong>${it.name}</strong><div>â‚¦${it.price} x ${it.qty}</div></div><div><input type="number" value="${it.qty}" min="1" onchange="changeQty(${idx}, this.value)" style="width:56px;padding:6px;border-radius:6px;border:1px solid #eee"><button onclick="removeItem(${idx})" style="margin-top:6px;background:#e74c3c;border:0;color:#fff;padding:6px;border-radius:6px">Remove</button></div>`;
      ul.appendChild(li);
    });
    document.getElementById('cart-total').textContent = total;
    document.getElementById('checkout-whatsapp').href = "https://wa.me/2349138938301?text=" + encodeURIComponent("I want to order: " + cart.map(i=>i.name + " x" + i.qty).join(", "));
  }

  function changeQty(i, val){
    const v = parseInt(val,10);
    if(isNaN(v) || v < 1) return;
    cart[i].qty = v;
    updateCartUI();
  }

  function removeItem(i){
    cart.splice(i,1); updateCartUI();
  }

  function toggleCart(){
    document.getElementById('cart-modal').classList.toggle('open');
  }

  // Paystack inline (fixed: pass event and read qty from siblings)
  function payInline(e, name, price){
    e.preventDefault();
    const card = e.target.closest('.card');
    const qtyEl = card.querySelector('input[type="number"]');
    let qty = parseInt(qtyEl.value || '1',10); if(isNaN(qty) || qty < 1) qty = 1;
    const amount = price * qty * 100; // kobo

    let email = prompt("Enter your email for payment receipt:");
    if(!email || !email.includes('@')){ alert('Please enter a valid email.'); return; }

    var handler = PaystackPop.setup({
      key: 'pk_live_5983ea4d5d6ba95e21e715a9627178436844cb95',
      email: email,
      amount: amount,
      currency: "NGN",
      ref: 'HRAV' + Math.floor((Math.random() * 1000000000) + 1),
      metadata: { custom_fields: [{ display_name: name, variable_name: "product_name", value: qty }] },
      callback: function(response){
        alert('Payment complete! Reference: ' + response.reference);
      },
      onClose: function(){ alert('Payment window closed.'); }
    });
    handler.openIframe();
  }
  </script>
</body>
</html>
